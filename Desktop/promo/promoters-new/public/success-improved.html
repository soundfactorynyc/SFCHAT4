<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Welcome to the Team! - Sound Factory</title>
<style>
:root{
  --bg:#000;
  --purple:#9333ea;
  --purple-light:#a855f7;
  --green:#4CAF50;
  --border:rgba(255,255,255,0.08);
}

*{box-sizing:border-box;margin:0;padding:0}

body{
  background:#000;
  color:#fff;
  font-family:-apple-system,BlinkMacSystemFont,"SF Pro Display","Segoe UI",sans-serif;
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:20px;
}

/* Background effect */
body::before{
  content:'';
  position:fixed;
  top:0;
  left:0;
  right:0;
  bottom:0;
  background-image: 
    radial-gradient(circle at 30% 30%, rgba(147, 51, 234, 0.2) 0%, transparent 50%),
    radial-gradient(circle at 70% 70%, rgba(76, 175, 80, 0.15) 0%, transparent 50%);
  pointer-events:none;
}

.success-container{
  max-width:500px;
  width:100%;
  text-align:center;
  animation:slideUp 0.5s ease;
  position:relative;
  z-index:1;
}

@keyframes slideUp{
  from{
    opacity:0;
    transform:translateY(20px);
  }
  to{
    opacity:1;
    transform:translateY(0);
  }
}

.success-card{
  background:rgba(10,10,10,0.9);
  border:1px solid var(--border);
  border-radius:16px;
  padding:40px;
  backdrop-filter:blur(20px);
  box-shadow:0 20px 40px rgba(0,0,0,0.5);
}

.success-icon{
  width:80px;
  height:80px;
  background:linear-gradient(135deg, rgba(76,175,80,0.2), rgba(76,175,80,0.1));
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  margin:0 auto 24px;
  font-size:40px;
  animation:pulse 2s infinite;
}

@keyframes pulse{
  0%, 100%{transform:scale(1)}
  50%{transform:scale(1.05)}
}

h1{
  font-size:28px;
  margin-bottom:12px;
  background:linear-gradient(135deg, #fff, var(--green));
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}

.subtitle{
  color:#999;
  font-size:16px;
  line-height:1.6;
  margin-bottom:32px;
}

.info-box{
  background:linear-gradient(135deg, rgba(147,51,234,0.1), rgba(147,51,234,0.05));
  border:1px solid rgba(147,51,234,0.2);
  border-radius:12px;
  padding:20px;
  margin-bottom:24px;
}

.info-row{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:8px 0;
  border-bottom:1px solid rgba(255,255,255,0.05);
}

.info-row:last-child{
  border-bottom:none;
}

.info-label{
  color:#888;
  font-size:14px;
}

.info-value{
  font-weight:600;
  font-size:14px;
}

.promo-code{
  background:rgba(147,51,234,0.1);
  padding:2px 8px;
  border-radius:4px;
  font-family:monospace;
}

.next-steps{
  background:rgba(0,0,0,0.5);
  border:1px solid var(--border);
  border-radius:12px;
  padding:24px;
  margin:24px 0;
  text-align:left;
}

.next-steps h2{
  font-size:18px;
  margin-bottom:16px;
  text-align:center;
}

.step{
  display:flex;
  align-items:flex-start;
  margin-bottom:16px;
}

.step-number{
  background:linear-gradient(135deg, var(--purple), var(--purple-light));
  width:24px;
  height:24px;
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:12px;
  font-weight:600;
  margin-right:12px;
  flex-shrink:0;
}

.step-text{
  color:#ccc;
  font-size:14px;
  line-height:1.5;
}

.btn-primary{
  width:100%;
  padding:14px;
  background:linear-gradient(135deg, var(--purple), var(--purple-light));
  color:#fff;
  border:none;
  border-radius:8px;
  font-size:16px;
  font-weight:600;
  cursor:pointer;
  transition:all 0.2s;
  margin-bottom:12px;
}

.btn-primary:hover{
  transform:translateY(-2px);
  box-shadow:0 8px 16px rgba(147,51,234,0.3);
}

.btn-secondary{
  width:100%;
  padding:14px;
  background:transparent;
  color:#fff;
  border:1px solid var(--border);
  border-radius:8px;
  font-size:16px;
  cursor:pointer;
  transition:all 0.2s;
}

.btn-secondary:hover{
  background:rgba(255,255,255,0.05);
  border-color:var(--purple);
}

.loading{
  display:inline-block;
  width:14px;
  height:14px;
  border:2px solid #fff;
  border-radius:50%;
  border-top-color:transparent;
  animation:spin 0.8s linear infinite;
  margin-right:8px;
}

@keyframes spin{
  to{transform:rotate(360deg)}
}

.footer-text{
  margin-top:32px;
  font-size:12px;
  color:#666;
}

.footer-text a{
  color:var(--purple-light);
  text-decoration:none;
}
</style>
</head>
<body>

<div class="success-container">
  <div class="success-card">
    <div class="success-icon">ðŸŽ‰</div>
    
    <h1>You're All Set!</h1>
    <p class="subtitle">
      Welcome to the Sound Factory promoter team! Your account is ready and you can start earning commissions immediately.
    </p>
    
    <div class="info-box">
      <div class="info-row">
        <span class="info-label">Your Name:</span>
        <span class="info-value" id="userName">Loading...</span>
      </div>
      <div class="info-row">
        <span class="info-label">Promo Code:</span>
        <span class="info-value promo-code" id="promoCode">Loading...</span>
      </div>
      <div class="info-row">
        <span class="info-label">Commission Rate:</span>
        <span class="info-value" style="color:var(--green);">$10/ticket + 20% tables</span>
      </div>
    </div>
    
    <div class="next-steps">
      <h2>âœ¨ What's Next?</h2>
      
      <div class="step">
        <div class="step-number">1</div>
        <div class="step-text">Access your dashboard to get your unique referral links</div>
      </div>
      
      <div class="step">
        <div class="step-number">2</div>
        <div class="step-text">Create AI-powered custom flyers with your branding</div>
      </div>
      
      <div class="step">
        <div class="step-number">3</div>
        <div class="step-text">Share on social media and start earning instantly</div>
      </div>
      
      <div class="step">
        <div class="step-number">4</div>
        <div class="step-text">Track your sales and commissions in real-time</div>
      </div>
    </div>
    
    <button class="btn-primary" id="dashboardBtn" onclick="goToDashboard()">
      <span id="btnText">Go to Dashboard â†’</span>
    </button>
    
    <button class="btn-secondary" onclick="sendEmail()">
      ðŸ“§ Email Me Instructions
    </button>
    
    <p class="footer-text">
      Need help? Contact us at <a href="mailto:team@soundfactorynyc.com">team@soundfactorynyc.com</a>
    </p>
  </div>
</div>

<script>
// Load promoter data
function loadPromoterData() {
  const urlParams = new URLSearchParams(window.location.search);
  const sessionId = urlParams.get('session_id');
  
  // Try to get from localStorage
  const saved = localStorage.getItem('promoter_temp');
  
  if (saved) {
    const data = JSON.parse(saved);
    document.getElementById('userName').textContent = data.name;
    document.getElementById('promoCode').textContent = data.promo_code || 'SF' + Math.random().toString(36).substr(2, 6).toUpperCase();
    
    // Update localStorage with final data
    localStorage.setItem('promoter_data', JSON.stringify({
      ...data,
      stripe_connected: true,
      created_at: new Date().toISOString()
    }));
  } else {
    // Default fallback
    document.getElementById('userName').textContent = 'Promoter';
    document.getElementById('promoCode').textContent = 'SF' + Math.random().toString(36).substr(2, 6).toUpperCase();
  }
}

// Go to dashboard
function goToDashboard() {
  const btn = document.getElementById('dashboardBtn');
  const btnText = document.getElementById('btnText');
  
  // Show loading
  btn.disabled = true;
  btnText.innerHTML = '<span class="loading"></span>Loading Dashboard...';
  
  // Get promo code
  const promoCode = document.getElementById('promoCode').textContent;
  
  // Redirect to dashboard
  setTimeout(() => {
    window.location.href = `promoter-dashboard-improved.html?code=${promoCode}`;
  }, 1000);
}

// Send email function
async function sendEmail() {
  const btn = event.target;
  const originalText = btn.innerHTML;
  
  btn.disabled = true;
  btn.innerHTML = '<span class="loading"></span>Sending...';
  
  // Simulate email send
  setTimeout(() => {
    btn.innerHTML = 'âœ“ Email Sent!';
    btn.style.background = 'rgba(76,175,80,0.1)';
    btn.style.borderColor = 'rgba(76,175,80,0.3)';
    btn.style.color = '#4CAF50';
    
    setTimeout(() => {
      btn.innerHTML = originalText;
      btn.disabled = false;
      btn.style.background = '';
      btn.style.borderColor = '';
      btn.style.color = '';
    }, 3000);
  }, 1500);
}

// Initialize on load
window.addEventListener('DOMContentLoaded', loadPromoterData);
</script>

</body>
</html>