    // Simulate loading promoter data
    promoterData = {
      name: 'Jonathan Peters',
      promoCode: code,
      referralLink: `https://soundfactorynyc.com/tickets?promo=${code}`,
      ticketsSold: 12,
      tablesSold: 3,
      totalEarnings: '420.00'
    };
  }
  
  // Update UI
  document.getElementById('promoterName').textContent = promoterData.name;
  document.getElementById('promoCode').textContent = promoterData.promoCode;
  document.getElementById('ticketsSold').textContent = promoterData.ticketsSold;
  document.getElementById('tablesSold').textContent = promoterData.tablesSold;
  document.getElementById('totalEarnings').textContent = '$' + promoterData.totalEarnings;
  document.getElementById('conversionRate').textContent = '12.5%';
  document.getElementById('referralLink').textContent = promoterData.referralLink;
  
  // Load marketing materials
  loadMarketingMaterials();
  
  // Show dashboard
  setTimeout(() => {
    document.getElementById('loadingState').style.display = 'none';
    document.getElementById('dashboardContent').style.display = 'block';
  }, 1000);
}

// Load marketing materials
function loadMarketingMaterials() {
  const templates = {
    email: `Subject: ğŸƒ Halloween at Sound Factory - VIP Access!

Hey!

I'm officially promoting Sound Factory's Halloween party this year! Use my link for exclusive access:

${promoterData.referralLink}

ğŸƒ Epic Halloween Production
ğŸ§ Jonathan Peters All Night
ğŸ’œ Purple-themed Wonderland
ğŸ¾ VIP Tables Available

Don't wait - tickets are selling fast!

- ${promoterData.name}`,
    
    instagram: `ğŸƒ SOUND FACTORY HALLOWEEN 2025 ğŸƒ

The biggest Halloween party in NYC is back!
ğŸ§ Jonathan Peters all night long
ğŸ’œ Purple paradise production
ğŸ”¥ Costume contest with prizes

Get your tickets with my exclusive link ğŸ‘‡
${promoterData.referralLink}

#SoundFactoryNYC #Halloween2025 #JonathanPeters #NYCNightlife`,
    
    sms: `Sound Factory Halloween ğŸƒ Jonathan Peters spinning all night! Get tickets: ${promoterData.referralLink}`
  };
  
  document.getElementById('emailTemplate').textContent = templates.email;
  document.getElementById('igTemplate').textContent = templates.instagram;
  document.getElementById('smsTemplate').textContent = templates.sms;
}

// Tab switching
function showTab(tabName) {
  // Hide all tabs
  document.querySelectorAll('.tab-content').forEach(tab => {
    tab.classList.remove('active');
  });
  
  // Remove active class from all buttons
  document.querySelectorAll('.tab-btn').forEach(btn => {
    btn.classList.remove('active');
  });
  
  // Show selected tab
  document.getElementById(`tab-${tabName}`).classList.add('active');
  
  // Mark button as active
  event.target.classList.add('active');
}

// Copy link function
function copyLink() {
  navigator.clipboard.writeText(promoterData.referralLink).then(() => {
    // Find the button and show feedback
    const btn = event.target;
    const originalText = btn.innerHTML;
    btn.classList.add('copied');
    btn.innerHTML = 'âœ“ Copied!';
    
    setTimeout(() => {
      btn.classList.remove('copied');
      btn.innerHTML = originalText;
    }, 2000);
  });
}

// Copy material function
function copyMaterial(type) {
  const templates = {
    email: document.getElementById('emailTemplate').textContent,
    instagram: document.getElementById('igTemplate').textContent,
    sms: document.getElementById('smsTemplate').textContent
  };
  
  navigator.clipboard.writeText(templates[type]).then(() => {
    const btn = event.target;
    const originalText = btn.innerHTML;
    btn.classList.add('copied');
    btn.innerHTML = 'âœ“ Copied!';
    
    setTimeout(() => {
      btn.classList.remove('copied');
      btn.innerHTML = originalText;
    }, 2000);
  });
}

// AI Flyer functions
function useExample(text) {
  document.getElementById('aiPrompt').value = text;
}

async function generateFlyer() {
  const prompt = document.getElementById('aiPrompt').value.trim();
  
  if (!prompt) {
    showStatus('Please describe what you want on your flyer', 'error');
    return;
  }
  
  const btn = document.getElementById('generateBtn');
  const status = document.getElementById('aiStatus');
  
  // Disable button and show loading
  btn.disabled = true;
  btn.innerHTML = 'âš™ï¸ Generating...';
  
  showStatus('ğŸ¨ AI is creating your custom flyer... This may take 10-15 seconds.', 'info');
  
  // Simulate API call (in production, this would call your AI endpoint)
  setTimeout(() => {
    // Add generated flyer to grid
    const flyersGrid = document.getElementById('flyersGrid');
    const flyerCard = document.createElement('div');
    flyerCard.className = 'flyer-card';
    flyerCard.innerHTML = `
      <img src="sf-flyer-optimized.png" alt="Custom Flyer" class="flyer-preview" />
      <div class="flyer-actions">
        <button class="flyer-btn" onclick="downloadFlyer(this)">â¬‡ï¸ Download</button>
        <button class="flyer-btn" onclick="shareFlyer(this)">ğŸ“¤ Share</button>
      </div>
    `;
    
    flyersGrid.insertBefore(flyerCard, flyersGrid.firstChild);
    
    // Show success message
    showStatus('âœ… Your custom flyer is ready! Download it below or check your email.', 'success');
    
    // Reset button
    btn.disabled = false;
    btn.innerHTML = 'Generate Custom Flyer';
    
    // Clear the prompt
    document.getElementById('aiPrompt').value = '';
    
    // Auto-hide status after 5 seconds
    setTimeout(() => {
      status.classList.remove('active');
    }, 5000);
  }, 3000);
}

function showStatus(message, type = 'info') {
  const status = document.getElementById('aiStatus');
  status.textContent = message;
  status.className = 'ai-status active';
  
  if (type === 'error') {
    status.classList.add('error');
  } else if (type === 'success') {
    status.style.background = 'rgba(76,175,80,0.1)';
    status.style.borderColor = 'rgba(76,175,80,0.2)';
    status.style.color = '#4CAF50';
  } else {
    status.style.background = 'rgba(147,51,234,0.1)';
    status.style.borderColor = 'rgba(147,51,234,0.2)';
    status.style.color = '#a855f7';
  }
}

function downloadFlyer(btn) {
  // In production, this would download the actual generated flyer
  const link = document.createElement('a');
  link.href = 'sf-flyer-optimized.png';
  link.download = `sound-factory-flyer-${promoterData.promoCode}.png`;
  link.click();
  
  // Show feedback
  btn.innerHTML = 'âœ“ Downloaded!';
  setTimeout(() => {
    btn.innerHTML = 'â¬‡ï¸ Download';
  }, 2000);
}

function shareFlyer(btn) {
  // Open share dialog or copy link
  const shareUrl = `${promoterData.referralLink}&flyer=custom`;
  
  if (navigator.share) {
    navigator.share({
      title: 'Sound Factory Halloween 2025',
      text: 'Check out this amazing Halloween party!',
      url: shareUrl
    });
  } else {
    navigator.clipboard.writeText(shareUrl);
    btn.innerHTML = 'âœ“ Link Copied!';
    setTimeout(() => {
      btn.innerHTML = 'ğŸ“¤ Share';
    }, 2000);
  }
}

function refreshDashboard() {
  location.reload();
}

function logout() {
  localStorage.removeItem('promoter_temp');
  window.location.href = 'promoter-login.html';
}

// Initialize when page loads
window.addEventListener('DOMContentLoaded', initDashboard);
</script>

</body>
</html>