<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>AI Promotional Kit Dashboard - Test</title>
<meta name="color-scheme" content="dark" />
<style>
:root{
  --bg:#000000;
  --surface:#0a0a0a;
  --border:#333333;
  --text:#ffffff;
  --muted:#999999;
  --accent:#ffffff;
}
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%;margin:0;padding:0}
body{
  background:#000000;
  color:#ffffff;
  font-family:-apple-system,BlinkMacSystemFont,"SF Pro Text","Helvetica Neue",Helvetica,Arial,sans-serif;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  padding:40px 20px;
}

.container{max-width:1200px;margin:0 auto}
.section{margin-bottom:32px}
.stack{display:flex;flex-direction:column;gap:12px}
.panel{background:rgba(255,255,255,0.02);border:0.5px solid rgba(255,255,255,0.15);border-radius:2px}
.box{padding:16px}

h2{
  font-size:18px;
  font-weight:700;
  margin-bottom:12px;
  letter-spacing:1.5px;
  text-transform:uppercase;
}

h3{
  font-size:14px;
  font-weight:700;
  letter-spacing:1.25px;
  text-transform:uppercase;
}

.muted{
  font-size:12px;
  color:#999;
  margin-bottom:16px;
}

.eyebrow{
  font-size:10px;
  font-weight:700;
  letter-spacing:1.5px;
  text-transform:uppercase;
  color:#6772e5;
  margin-bottom:8px;
}

.mono{
  font-family:Menlo,Consolas,ui-monospace,monospace;
  font-size:11px;
}

.note{
  font-size:10px;
  color:#666;
  margin-top:12px;
  line-height:1.4;
}

.bullets{
  list-style:none;
  padding-left:0;
}

.bullets li{
  font-size:12px;
  line-height:1.5;
  margin-bottom:6px;
  color:#F0F0F0;
}

.bullets li:before{
  content:"• ";
  color:#6772e5;
  margin-right:8px;
}

/* Forms */
.form-row{
  display:flex;
  flex-direction:column;
  gap:6px;
  margin-bottom:12px;
}

.form-row label{
  font-size:11px;
  font-weight:600;
  color:#cfcfcf;
  text-transform:uppercase;
  letter-spacing:0.5px;
}

input[type="text"],
input[type="email"],
input[type="tel"]{
  background:rgba(255,255,255,0.05);
  border:0.5px solid rgba(255,255,255,0.15);
  border-radius:2px;
  color:#ffffff;
  font-size:12px;
  padding:10px 12px;
  font-family:inherit;
  transition:all 0.2s;
}

input[type="text"]:focus,
input[type="email"]:focus,
input[type="tel"]:focus{
  outline:none;
  border-color:#6772e5;
  background:rgba(255,255,255,0.08);
}

input::placeholder{
  color:#666;
}

/* Buttons */
.btn{
  background:#ffffff;
  color:#000000;
  border:none;
  padding:12px 24px;
  font-size:11px;
  font-weight:700;
  text-transform:uppercase;
  letter-spacing:1px;
  cursor:pointer;
  transition:all 0.2s;
  border-radius:2px;
  font-family:inherit;
}

.btn:hover{
  background:#f0f0f0;
  transform:translateY(-1px);
}

.btn:active{
  transform:translateY(0);
}

/* AI kit layout */
.ai-grid{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-top:12px}
.ai-col{display:flex;flex-direction:column;gap:12px}
.ai-chips{display:flex;flex-wrap:wrap;gap:10px}
.ai-chips label{font-size:11px;color:#cfcfcf}
.btn-row{display:flex;gap:10px;flex-wrap:wrap;margin-top:8px}
.btn-sm{height:26px;padding:0 10px;font-size:10px;text-transform:uppercase;border-radius:5px}

.ai-block{padding:12px}
.ai-block-h{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}
.ai-block h3{font-size:12px;letter-spacing:.2px}
.kv-row{display:grid;grid-template-columns:120px 1fr;gap:8px;align-items:center;margin:6px 0}
.kv-label{font-size:10px;color:#bdbdbd;text-transform:uppercase}
.kv{font-family:Menlo,Consolas,ui-monospace,monospace;font-size:11px;word-break:break-all}

.ai-captions{display:flex;flex-direction:column;gap:8px;padding-left:16px}
.ai-captions li{font-size:12px;line-height:1.35}
.ai-tags{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.ai-actions{display:flex;gap:8px}

@media (max-width:820px){.ai-grid{grid-template-columns:1fr}}
</style>
</head>
<body>

<div class="container">
  <!-- AI PROMOTIONAL KIT DASHBOARD -->
  <section class="section stack panel box" id="ai-kit">
    <h2>AI Promotional Kit Dashboard</h2>
    <p class="muted">Customize your promo links and generate platform-ready captions, hashtags, and assets in seconds.</p>

    <!-- Controls -->
    <div class="ai-grid">
      <!-- Left: Inputs -->
      <div class="ai-col box">
        <div class="form-row">
          <label for="aiPromo">Your Promo Code</label>
          <input id="aiPromo" type="text" placeholder="YOURNAME_123">
        </div>
        <div class="form-row">
          <label for="aiEventName">Event</label>
          <input id="aiEventName" type="text" placeholder="Sound Factory Séance — Halloween">
        </div>
        <div class="form-row">
          <label for="aiEventDate">Date</label>
          <input id="aiEventDate" type="text" placeholder="Nov 1, New York City">
        </div>
        <div class="form-row">
          <label for="aiBaseUrl">Base Link</label>
          <input id="aiBaseUrl" type="text" value="https://soundfactorynyc.com/halloween">
        </div>
        <div class="form-row">
          <label>Platforms</label>
          <div class="ai-chips">
            <label><input type="checkbox" class="aiPlatform" value="Instagram" checked> Instagram</label>
            <label><input type="checkbox" class="aiPlatform" value="TikTok" checked> TikTok</label>
            <label><input type="checkbox" class="aiPlatform" value="Facebook" checked> Facebook</label>
            <label><input type="checkbox" class="aiPlatform" value="X"> X</label>
            <label><input type="checkbox" class="aiPlatform" value="WhatsApp"> WhatsApp</label>
          </div>
        </div>
        <div class="form-row">
          <label for="aiTone">Tone</label>
          <input id="aiTone" type="text" placeholder="underground, confident, zero-fluff">
        </div>
        <div class="form-row">
          <label for="aiCTA">Primary CTA</label>
          <input id="aiCTA" type="text" placeholder="Lock your spot • Tables & Tickets">
        </div>
        <div class="form-row">
          <label for="aiHashtags">Hashtags (optional)</label>
          <input id="aiHashtags" type="text" placeholder="#SoundFactory #NYCNightlife #JonathanPeters #Halloween2025">
        </div>
        <div class="form-row">
          <label for="aiNotes">Notes to include (optional)</label>
          <input id="aiNotes" type="text" placeholder="Early Bird ends soon. VIP tables limited. 21+">
        </div>

        <div class="btn-row">
          <button class="btn" id="btnBuildLinks">Build Links</button>
          <button class="btn" id="btnGenerate">Generate Captions</button>
          <button class="btn" id="btnAssets">Build Asset Kit</button>
        </div>
        <p class="note">Links + captions are generated client-side. For production, wire these buttons to your endpoints:
          <span class="mono">POST /api/ai/captions</span>,
          <span class="mono">POST /api/kit</span>,
          <span class="mono">GET /api/qr?promo=</span>.
        </p>
      </div>

      <!-- Right: Output -->
      <div class="ai-col">
        <!-- Links -->
        <div class="box ai-block panel">
          <div class="ai-block-h">
            <h3>Links</h3>
            <div class="ai-actions">
              <button class="btn btn-sm" id="copyPromo">Copy Promo Link</button>
              <button class="btn btn-sm" id="copyUtm">Copy UTM Link</button>
            </div>
          </div>
          <div class="kv-row">
            <div class="kv-label">Promo Link</div>
            <div class="kv mono" id="outPromo">—</div>
          </div>
          <div class="kv-row">
            <div class="kv-label">UTM Link</div>
            <div class="kv mono" id="outUtm">—</div>
          </div>
          <div class="kv-row">
            <div class="kv-label">QR (placeholder)</div>
            <div class="kv mono">Generate on server: <span class="mono">/api/qr?url=ENCODED</span></div>
          </div>
        </div>

        <!-- Captions -->
        <div class="box ai-block panel">
          <div class="ai-block-h">
            <h3>Caption Variations</h3>
            <div class="ai-actions">
              <button class="btn btn-sm" id="copyCaptions">Copy All</button>
            </div>
          </div>
          <ol id="outCaptions" class="ai-captions"></ol>
        </div>

        <!-- Hashtags -->
        <div class="box ai-block panel">
          <div class="ai-block-h">
            <h3>Hashtag Packs</h3>
            <div class="ai-actions">
              <button class="btn btn-sm" id="copyTagsCore">Copy Core</button>
              <button class="btn btn-sm" id="copyTagsAlt">Copy Alt</button>
            </div>
          </div>
          <div class="ai-tags">
            <div>
              <div class="eyebrow">Core</div>
              <div class="mono" id="tagsCore">#SoundFactory #JonathanPeters #NYCNightlife #HouseMusic #Halloween2025</div>
            </div>
            <div>
              <div class="eyebrow">Alt / Rotate</div>
              <div class="mono" id="tagsAlt">#Underground #NYCClubs #RaveCulture #Afterhours #Legendary</div>
            </div>
          </div>
        </div>

        <!-- Assets -->
        <div class="box ai-block panel">
          <div class="ai-block-h">
            <h3>Asset Kit</h3>
            <div class="ai-actions">
              <a class="btn btn-sm" id="downloadPack" href="#" download>Download .zip</a>
            </div>
          </div>
          <ul class="bullets">
            <li>1080×1350 (IG Feed), 1080×1920 (Stories/Reels), 1200×628 (FB)</li>
            <li>PNG flyers, square logo mark, table flyer, story frames</li>
            <li>Caption .txt, hashtag .txt, UTM link .txt</li>
          </ul>
          <p class="note">Hook <span class="mono">/api/kit</span> to actually render & zip tailored assets.</p>
        </div>
      </div>
    </div>
  </section>
</div>

<script>
(function(){
  const $ = sel => document.querySelector(sel);
  const promo = () => ($("#aiPromo").value || "").trim();
  const base  = () => ($("#aiBaseUrl").value || "").trim().replace(/\/+$/,'');
  const tone  = () => ($("#aiTone").value || "underground, confident, zero-fluff").trim();
  const eventName = () => ($("#aiEventName").value || "Sound Factory Séance — Halloween").trim();
  const eventDate = () => ($("#aiEventDate").value || "Nov 1, New York City").trim();
  const cta   = () => ($("#aiCTA").value || "Lock your spot • Tables & Tickets").trim();
  const notes = () => ($("#aiNotes").value || "").trim();
  const tagsCore = () => $("#tagsCore").textContent.trim();
  const tagsAlt  = () => $("#tagsAlt").textContent.trim();
  const platforms = () => Array.from(document.querySelectorAll(".aiPlatform:checked")).map(el=>el.value);

  function buildPromoLink(){
    const p = promo(); if(!p){ alert("Enter your promo code"); return; }
    const url = `${base()}?promo=${encodeURIComponent(p)}`;
    $("#outPromo").textContent = url;
    const utm = `${url}&utm_source=${encodeURIComponent(p)}&utm_medium=partner&utm_campaign=${encodeURIComponent(eventName().toLowerCase().replace(/\s+/g,'-'))}`;
    $("#outUtm").textContent = utm;
    // Optional: set a dummy zip link
    $("#downloadPack").href = "#";
  }

  function copyText(text){
    navigator.clipboard.writeText(text).then(()=>{},()=>{});
  }

  // Barebones client-side caption generator (swap to your model later)
  function generateCaptions(){
    const p = promo(); if(!p){ alert("Enter your promo code"); return; }
    const outs = $("#outCaptions"); outs.innerHTML = "";
    const vibe = tone();
    const list = [];

    const baseLink = $("#outUtm").textContent || $("#outPromo").textContent || `${base()}?promo=${encodeURIComponent(p)}`;

    const templates = [
      ({en,ed,cta,link}) => `🖤 ${en}\n${ed}\n${cta}\n${link}`,
      ({en,ed,cta,link}) => `${en} — ${ed}\n${cta}\n${link}`,
      ({en,ed,cta,link}) => `Underground. Iconic. ${en}.\n${cta}\n${link}`,
      ({en,ed,cta,link}) => `No fluff. Just ${en}.\n${cta} • ${link}`,
      ({en,ed,cta,link}) => `${en} | ${ed}\n${cta}\n${link}`
    ];

    const ctx = {
      en: eventName(),
      ed: eventDate(),
      cta: cta(),
      link: baseLink
    };

    // Build 5 variations + tags
    for(let i=0;i<5;i++){
      const t = templates[i % templates.length];
      let caption = t(ctx);
      // append tone hint subtle + tags (core or alt alternating)
      const tags = (i%2===0 ? tagsCore() : tagsAlt());
      if(tags) caption += `\n\n${tags}`;
      if(vibe) caption += `\n\n// ${vibe}`;
      list.push(caption);
    }

    list.forEach(c=>{
      const li = document.createElement("li");
      li.textContent = c;
      outs.appendChild(li);
    });
  }

  // Wire buttons
  $("#btnBuildLinks")?.addEventListener("click", buildPromoLink);
  $("#btnGenerate")?.addEventListener("click", generateCaptions);
  $("#btnAssets")?.addEventListener("click", ()=>{
    alert("Hook this to /api/kit to render a tailored .zip with sizes + text files.");
  });

  $("#copyPromo")?.addEventListener("click", ()=>{
    copyText($("#outPromo").textContent.trim());
  });
  $("#copyUtm")?.addEventListener("click", ()=>{
    copyText($("#outUtm").textContent.trim());
  });
  $("#copyCaptions")?.addEventListener("click", ()=>{
    const caps = Array.from(document.querySelectorAll("#outCaptions li")).map(li=>li.textContent).join("\n\n---\n\n");
    if(!caps){ alert("Generate captions first."); return; }
    copyText(caps);
  });
  $("#copyTagsCore")?.addEventListener("click", ()=>copyText(tagsCore()));
  $("#copyTagsAlt")?.addEventListener("click",  ()=>copyText(tagsAlt()));
})();
</script>

</body>
</html>
