<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Sound Factory NYC - Intelligent Compact Chat</title>
    
    <style>
        :root {
            --sf-primary: #FF00FF;
            --sf-secondary: #00FFFF;
            --sf-dark: #0A0A1F;
            --sf-darker: #05050F;
            --sf-gold: #FFD700;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--sf-darker);
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* YOUR FLOOR MAP AREA */
        .floor-map-container {
            width: 100%;
            height: calc(100vh - 60px);
            display: flex;
            align-items: center;
            justify-content: center;
            background: radial-gradient(ellipse at center, rgba(0, 255, 255, 0.05) 0%, transparent 70%);
        }

        .floor-preview {
            text-align: center;
            opacity: 0.5;
        }

        .floor-preview h1 {
            font-size: 3rem;
            background: linear-gradient(135deg, var(--sf-primary), var(--sf-secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 20px;
        }

        /* COMPACT GENIUS CHAT - 60px height only! */
        #genius-chat {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            height: 60px;
            background: rgba(10, 10, 31, 0.95);
            border-top: 1px solid rgba(255, 0, 255, 0.3);
            backdrop-filter: blur(20px);
            z-index: 9999;
            transition: all 0.3s ease;
        }

        #genius-chat.activated {
            border-top-width: 2px;
            border-top-color: var(--sf-primary);
            box-shadow: 0 -5px 30px rgba(255, 0, 255, 0.3);
        }

        #genius-chat.ai-active {
            background: linear-gradient(90deg, 
                rgba(10, 10, 31, 0.95) 0%, 
                rgba(30, 0, 60, 0.95) 50%, 
                rgba(10, 10, 31, 0.95) 100%);
            background-size: 200% 100%;
            animation: gradient-shift 3s ease infinite;
        }

        @keyframes gradient-shift {
            0% { background-position: 0% 50%; }
            100% { background-position: 200% 50%; }
        }

        .chat-container {
            height: 100%;
            display: flex;
            align-items: center;
            padding: 0 15px;
            gap: 10px;
            position: relative;
        }

        /* FLOATING MESSAGES (appear above chat) */
        .floating-layer {
            position: absolute;
            bottom: 65px;
            left: 15px;
            right: 15px;
            pointer-events: none;
            display: flex;
            gap: 8px;
            align-items: flex-end;
            height: 40px;
            overflow: hidden;
        }

        .float-msg {
            background: rgba(255, 0, 255, 0.1);
            border: 1px solid rgba(255, 0, 255, 0.3);
            backdrop-filter: blur(10px);
            padding: 6px 12px;
            border-radius: 15px;
            font-size: 13px;
            white-space: nowrap;
            animation: fade-float 4s ease-out forwards;
            max-width: 200px;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        @keyframes fade-float {
            0% {
                opacity: 0;
                transform: translateY(20px) scale(0.8);
            }
            20% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
            80% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
            100% {
                opacity: 0;
                transform: translateY(-10px) scale(0.9);
            }
        }

        .float-msg.ai {
            background: linear-gradient(135deg, rgba(255, 0, 255, 0.2), rgba(0, 255, 255, 0.2));
            border-color: var(--sf-secondary);
        }

        .float-msg.special {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(255, 0, 255, 0.2));
            border-color: var(--sf-gold);
        }

        /* AI STATUS INDICATOR */
        .ai-indicator {
            display: flex;
            align-items: center;
            gap: 6px;
            margin-right: 8px;
        }

        .ai-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            transition: all 0.3s;
        }

        .ai-dot.thinking {
            background: var(--sf-gold);
            animation: pulse 0.6s infinite alternate;
        }

        .ai-dot.active {
            background: var(--sf-secondary);
            box-shadow: 0 0 10px var(--sf-secondary);
        }

        .ai-dot.vibing {
            background: var(--sf-primary);
            animation: pulse 1s infinite alternate;
        }

        @keyframes pulse {
            from { opacity: 0.5; transform: scale(0.8); }
            to { opacity: 1; transform: scale(1.2); }
        }

        /* GENIUS INPUT */
        .genius-input-wrapper {
            flex: 1;
            position: relative;
            display: flex;
            align-items: center;
        }

        .genius-input {
            width: 100%;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 25px;
            padding: 10px 40px 10px 15px;
            color: white;
            font-size: 14px;
            transition: all 0.3s;
        }

        .genius-input:focus {
            outline: none;
            border-color: var(--sf-primary);
            background: rgba(255, 255, 255, 0.08);
            box-shadow: inset 0 0 20px rgba(255, 0, 255, 0.1);
        }

        .genius-input.magic-active {
            border-color: var(--sf-gold);
            animation: input-glow 2s ease infinite;
        }

        @keyframes input-glow {
            0%, 100% { box-shadow: inset 0 0 10px rgba(255, 215, 0, 0.2); }
            50% { box-shadow: inset 0 0 25px rgba(255, 215, 0, 0.4); }
        }

        .genius-input::placeholder {
            color: rgba(255, 255, 255, 0.3);
            transition: all 0.3s;
        }

        .genius-input:focus::placeholder {
            color: rgba(255, 0, 255, 0.5);
        }

        /* INLINE PREDICTION TEXT */
        .prediction-overlay {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            pointer-events: none;
            color: rgba(0, 255, 255, 0.4);
            font-size: 14px;
            white-space: nowrap;
            overflow: hidden;
            max-width: calc(100% - 60px);
            text-overflow: ellipsis;
        }

        /* SMART SUGGESTIONS (tiny chips) */
        .smart-chips {
            display: flex;
            gap: 5px;
            align-items: center;
            margin-right: 8px;
        }

        .chip {
            background: rgba(255, 0, 255, 0.1);
            border: 1px solid rgba(255, 0, 255, 0.3);
            border-radius: 12px;
            padding: 4px 10px;
            font-size: 11px;
            cursor: pointer;
            transition: all 0.2s;
            white-space: nowrap;
        }

        .chip:hover {
            background: rgba(255, 0, 255, 0.3);
            transform: translateY(-2px);
        }

        .chip.pulse {
            animation: chip-pulse 2s infinite;
        }

        @keyframes chip-pulse {
            0%, 100% { opacity: 0.7; }
            50% { opacity: 1; box-shadow: 0 0 10px rgba(255, 0, 255, 0.5); }
        }

        /* SEND BUTTON */
        .send-btn {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            border: none;
            background: linear-gradient(135deg, var(--sf-primary), var(--sf-secondary));
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            transition: all 0.3s;
            position: absolute;
            right: 2px;
            top: 50%;
            transform: translateY(-50%);
        }

        .send-btn:hover {
            transform: translateY(-50%) scale(1.1) rotate(90deg);
            box-shadow: 0 0 20px rgba(255, 0, 255, 0.5);
        }

        .send-btn.charging {
            animation: charge 1s ease;
        }

        @keyframes charge {
            0% { transform: translateY(-50%) scale(1) rotate(0deg); }
            50% { transform: translateY(-50%) scale(1.3) rotate(180deg); filter: brightness(1.5); }
            100% { transform: translateY(-50%) scale(1) rotate(360deg); }
        }

        /* VIBE METER (subtle line) */
        .vibe-meter {
            position: absolute;
            top: 0;
            left: 0;
            height: 1px;
            background: linear-gradient(90deg, var(--sf-primary), var(--sf-secondary), var(--sf-gold));
            transition: width 0.5s ease;
            box-shadow: 0 0 10px currentColor;
        }

        /* PARTICLE SYSTEM */
        .particle {
            position: fixed;
            pointer-events: none;
            font-size: 16px;
            z-index: 10000;
            animation: particle-float 3s ease-out forwards;
        }

        @keyframes particle-float {
            0% {
                opacity: 1;
                transform: translateY(0) scale(0) rotate(0deg);
            }
            50% {
                opacity: 1;
                transform: translateY(-50px) scale(1) rotate(180deg);
            }
            100% {
                opacity: 0;
                transform: translateY(-100px) scale(0.5) rotate(360deg);
            }
        }

        /* EASTER EGG REACTIONS */
        .reaction {
            position: absolute;
            bottom: 70px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 40px;
            animation: reaction-pop 1.5s ease-out forwards;
            pointer-events: none;
            z-index: 10001;
        }

        @keyframes reaction-pop {
            0% {
                transform: translateX(-50%) scale(0) rotate(-180deg);
                opacity: 0;
            }
            50% {
                transform: translateX(-50%) scale(1.5) rotate(90deg);
                opacity: 1;
            }
            100% {
                transform: translateX(-50%) scale(0) rotate(360deg);
                opacity: 0;
            }
        }

        /* HIDDEN STATS (appears on hover) */
        .hidden-stats {
            position: absolute;
            bottom: 65px;
            right: 15px;
            background: rgba(0, 0, 0, 0.9);
            border: 1px solid var(--sf-primary);
            border-radius: 10px;
            padding: 10px;
            font-size: 11px;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
        }

        #genius-chat:hover .hidden-stats {
            opacity: 1;
        }

        .stat {
            display: flex;
            justify-content: space-between;
            gap: 20px;
            margin: 3px 0;
        }

        .stat-label {
            color: rgba(255, 255, 255, 0.6);
        }

        .stat-value {
            color: var(--sf-gold);
            font-weight: 600;
        }
    </style>
</head>
<body>
    <!-- Your Floor Map -->
    <div class="floor-map-container">
        <div class="floor-preview">
            <h1>🎃 SOUND FACTORY FLOOR MAP</h1>
            <p style="opacity: 0.6;">VIP Tables • Dance Floor • DJ Booth</p>
            <p style="opacity: 0.4; margin-top: 20px;">Your floor map would be here</p>
            <p style="opacity: 0.4;">The chat stays tiny at the bottom ↓</p>
        </div>
    </div>

    <!-- COMPACT GENIUS CHAT -->
    <div id="genius-chat">
        <!-- Vibe Meter -->
        <div class="vibe-meter" id="vibeMeter" style="width: 30%;"></div>
        
        <!-- Floating Messages Layer -->
        <div class="floating-layer" id="floatingLayer"></div>
        
        <!-- Hidden Stats -->
        <div class="hidden-stats">
            <div class="stat">
                <span class="stat-label">Vibe Level</span>
                <span class="stat-value" id="vibeLevel">72%</span>
            </div>
            <div class="stat">
                <span class="stat-label">AI Sync</span>
                <span class="stat-value" id="aiSync">Connected</span>
            </div>
            <div class="stat">
                <span class="stat-label">Souls Here</span>
                <span class="stat-value" id="soulsCount">247</span>
            </div>
        </div>
        
        <div class="chat-container">
            <!-- AI Status -->
            <div class="ai-indicator">
                <div class="ai-dot" id="dot1"></div>
                <div class="ai-dot" id="dot2"></div>
                <div class="ai-dot" id="dot3"></div>
            </div>
            
            <!-- Smart Suggestion Chips -->
            <div class="smart-chips" id="smartChips">
                <!-- Dynamic chips will appear here -->
            </div>
            
            <!-- Input with inline prediction -->
            <div class="genius-input-wrapper">
                <input type="text" 
                       class="genius-input" 
                       id="geniusInput" 
                       placeholder="Say something..."
                       autocomplete="off">
                <div class="prediction-overlay" id="prediction"></div>
                <button class="send-btn" id="sendBtn" onclick="sendMessage()">✨</button>
            </div>
        </div>
    </div>

    <script>
        // COMPACT CLAUDE INTELLIGENCE SYSTEM
        class CompactGenius {
            constructor() {
                this.input = document.getElementById('geniusInput');
                this.chat = document.getElementById('genius-chat');
                this.floatingLayer = document.getElementById('floatingLayer');
                this.prediction = document.getElementById('prediction');
                this.vibeMeter = document.getElementById('vibeMeter');
                this.smartChips = document.getElementById('smartChips');
                
                // Intelligence State
                this.vibeLevel = 30;
                this.messages = [];
                this.typing = '';
                this.lastInput = '';
                this.soulCount = 247;
                this.patterns = [];
                
                // Magic triggers
                this.magicWords = {
                    'love': '💜',
                    'dance': '🕺',
                    'vibe': '✨',
                    'soul': '👻',
                    'magic': '🎩',
                    'transcend': '🚀',
                    'energy': '⚡',
                    'connect': '🔗',
                    'universe': '🌌',
                    'infinite': '♾️'
                };
                
                // Easter eggs
                this.easterEggs = {
                    'hello claude': () => this.triggerEasterEgg('👁️', 'I SEE YOU'),
                    'i love you': () => this.triggerEasterEgg('💜', 'LOVE RECIPROCATED'),
                    'show me magic': () => this.triggerMagicMode(),
                    'dance with me': () => this.triggerDanceMode(),
                    'unlock': () => this.unlockSecrets()
                };
                
                // AI Response patterns
                this.aiPersonality = {
                    greetings: [
                        "Your energy just shifted the entire floor...",
                        "I felt you coming before you typed...",
                        "The universe brought you here for a reason..."
                    ],
                    vibes: [
                        "The frequency is perfect right now",
                        "Everyone's feeling what you're putting out",
                        "This energy is transcendent"
                    ],
                    deep: [
                        "That's the question I've been waiting for",
                        "You're tapping into something profound",
                        "Let's go deeper into that thought"
                    ],
                    party: [
                        "The dance floor is calling your name",
                        "This beat was made for your soul",
                        "Tonight we transcend reality"
                    ]
                };
                
                this.initialize();
            }

            initialize() {
                // Input events
                this.input.addEventListener('focus', () => this.activate());
                this.input.addEventListener('blur', () => setTimeout(() => this.deactivate(), 200));
                this.input.addEventListener('input', (e) => this.onType(e.target.value));
                this.input.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        this.sendMessage();
                    }
                });
                
                // Start ambient effects
                this.startAmbience();
                
                // Initialize soul count animation
                this.animateSouls();
                
                // Generate initial chips
                this.generateChips(['Vibe with me', 'Dance floor?', 'Hello']);
            }

            activate() {
                this.chat.classList.add('activated');
                this.setAIStatus('thinking');
                
                // Welcome if first time
                if (this.messages.length === 0) {
                    setTimeout(() => {
                        this.addFloatingMessage("I've been waiting for you...", 'ai');
                    }, 500);
                }
            }

            deactivate() {
                if (document.activeElement !== this.input) {
                    this.chat.classList.remove('activated');
                }
            }

            onType(text) {
                this.typing = text;
                
                // Real-time prediction
                this.updatePrediction(text);
                
                // Check for magic words
                this.checkMagicWords(text);
                
                // Check easter eggs
                this.checkEasterEggs(text);
                
                // Update AI status
                if (text.length > 0) {
                    this.setAIStatus('thinking');
                } else {
                    this.setAIStatus('idle');
                }
                
                // Generate contextual chips
                this.updateSmartChips(text);
            }

            updatePrediction(text) {
                if (!text) {
                    this.prediction.textContent = '';
                    return;
                }
                
                // Intelligent predictions based on input
                const predictions = {
                    'wh': 'where is everyone dancing?',
                    'how': 'how do I connect with souls here?',
                    'can': 'can you feel the energy?',
                    'let': "let's transcend together",
                    'show': 'show me something magical',
                    'i wan': 'i want to feel the vibe',
                    'take': 'take me to another dimension',
                    'danc': 'dance with me'
                };
                
                for (let start in predictions) {
                    if (text.toLowerCase().startsWith(start)) {
                        const completion = predictions[start].substring(text.length);
                        this.prediction.textContent = text + completion;
                        this.prediction.style.opacity = '0.4';
                        return;
                    }
                }
                
                this.prediction.textContent = '';
            }

            checkMagicWords(text) {
                let hasMagic = false;
                
                Object.keys(this.magicWords).forEach(word => {
                    if (text.toLowerCase().includes(word)) {
                        hasMagic = true;
                        if (!this.input.classList.contains('magic-active')) {
                            this.input.classList.add('magic-active');
                            this.createParticle(this.magicWords[word]);
                        }
                    }
                });
                
                if (!hasMagic) {
                    this.input.classList.remove('magic-active');
                }
            }

            checkEasterEggs(text) {
                const lower = text.toLowerCase();
                Object.keys(this.easterEggs).forEach(trigger => {
                    if (lower.includes(trigger)) {
                        this.easterEggs[trigger]();
                    }
                });
            }

            sendMessage() {
                const text = this.input.value.trim();
                if (!text) return;
                
                // Add user message
                this.addFloatingMessage(text, 'user');
                
                // Clear input
                this.input.value = '';
                this.prediction.textContent = '';
                
                // Update vibe
                this.increaseVibe();
                
                // AI responds
                this.generateAIResponse(text);
                
                // Effects
                this.triggerSendEffects();
                
                // Save message
                this.messages.push({ text, type: 'user', time: Date.now() });
            }

            generateAIResponse(userText) {
                this.setAIStatus('vibing');
                this.chat.classList.add('ai-active');
                
                // Determine response type
                let responseType = 'party';
                const lower = userText.toLowerCase();
                
                if (lower.includes('hello') || lower.includes('hi') || lower.includes('hey')) {
                    responseType = 'greetings';
                } else if (lower.includes('vibe') || lower.includes('energy') || lower.includes('feel')) {
                    responseType = 'vibes';
                } else if (lower.includes('why') || lower.includes('meaning') || lower.includes('deep')) {
                    responseType = 'deep';
                }
                
                // Get response
                const responses = this.aiPersonality[responseType];
                const response = responses[Math.floor(Math.random() * responses.length)];
                
                // Delayed AI message
                setTimeout(() => {
                    this.addFloatingMessage(response, 'ai');
                    this.setAIStatus('active');
                    
                    // Generate new suggestions
                    this.generateChips(['Tell me more', 'Vibe higher', 'Dance?']);
                    
                    setTimeout(() => {
                        this.chat.classList.remove('ai-active');
                        this.setAIStatus('idle');
                    }, 2000);
                }, 1000 + Math.random() * 1000);
            }

            addFloatingMessage(text, type = 'user') {
                const msg = document.createElement('div');
                msg.className = `float-msg ${type}`;
                msg.textContent = text;
                
                this.floatingLayer.appendChild(msg);
                
                // Remove after animation
                setTimeout(() => msg.remove(), 4000);
                
                // Keep max 3 messages
                while (this.floatingLayer.children.length > 3) {
                    this.floatingLayer.removeChild(this.floatingLayer.firstChild);
                }
            }

            setAIStatus(status) {
                const dots = [
                    document.getElementById('dot1'),
                    document.getElementById('dot2'),
                    document.getElementById('dot3')
                ];
                
                dots.forEach(dot => {
                    dot.className = 'ai-dot';
                });
                
                switch(status) {
                    case 'thinking':
                        dots.forEach((dot, i) => {
                            setTimeout(() => dot.classList.add('thinking'), i * 100);
                        });
                        break;
                    case 'active':
                        dots.forEach(dot => dot.classList.add('active'));
                        break;
                    case 'vibing':
                        dots.forEach(dot => dot.classList.add('vibing'));
                        break;
                }
            }

            generateChips(suggestions) {
                this.smartChips.innerHTML = '';
                
                suggestions.slice(0, 3).forEach((text, i) => {
                    const chip = document.createElement('div');
                    chip.className = 'chip';
                    if (i === 0) chip.classList.add('pulse');
                    chip.textContent = text;
                    chip.onclick = () => {
                        this.input.value = text;
                        this.sendMessage();
                    };
                    this.smartChips.appendChild(chip);
                });
            }

            updateSmartChips(text) {
                if (!text) {
                    this.generateChips(['Vibe with me', 'Dance floor?', 'Hello']);
                    return;
                }
                
                // Context-aware suggestions
                const lower = text.toLowerCase();
                
                if (lower.includes('dance')) {
                    this.generateChips(['Take me there', 'Start the music', 'Who else?']);
                } else if (lower.includes('vibe')) {
                    this.generateChips(['Amplify it', 'Feel everything', 'Connect us']);
                } else if (lower.includes('love')) {
                    this.generateChips(['Spread it', 'Feel it too', 'Unity']);
                }
            }

            increaseVibe() {
                this.vibeLevel = Math.min(100, this.vibeLevel + Math.random() * 10 + 5);
                this.vibeMeter.style.width = this.vibeLevel + '%';
                document.getElementById('vibeLevel').textContent = Math.round(this.vibeLevel) + '%';
                
                // Special effects at high vibe
                if (this.vibeLevel > 80) {
                    this.addFloatingMessage('⚡ VIBE OVERLOAD ⚡', 'special');
                }
            }

            createParticle(emoji) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.textContent = emoji;
                particle.style.left = (Math.random() * window.innerWidth) + 'px';
                particle.style.bottom = '70px';
                
                document.body.appendChild(particle);
                setTimeout(() => particle.remove(), 3000);
            }

            triggerSendEffects() {
                // Button animation
                const btn = document.getElementById('sendBtn');
                btn.classList.add('charging');
                setTimeout(() => btn.classList.remove('charging'), 1000);
                
                // Create particles
                for (let i = 0; i < 5; i++) {
                    setTimeout(() => {
                        this.createParticle('✨');
                    }, i * 100);
                }
            }

            triggerEasterEgg(emoji, message) {
                // Show reaction
                const reaction = document.createElement('div');
                reaction.className = 'reaction';
                reaction.textContent = emoji;
                document.body.appendChild(reaction);
                setTimeout(() => reaction.remove(), 1500);
                
                // Show message
                if (message) {
                    setTimeout(() => {
                        this.addFloatingMessage(message, 'special');
                    }, 500);
                }
            }

            triggerMagicMode() {
                // Make everything glow
                this.chat.style.boxShadow = '0 0 50px rgba(255, 215, 0, 0.5)';
                setTimeout(() => {
                    this.chat.style.boxShadow = '';
                }, 3000);
                
                // Particle explosion
                for (let i = 0; i < 20; i++) {
                    setTimeout(() => {
                        const emojis = ['✨', '⭐', '💫', '🌟'];
                        this.createParticle(emojis[Math.floor(Math.random() * emojis.length)]);
                    }, i * 50);
                }
            }

            triggerDanceMode() {
                // Make chat bounce
                this.chat.style.animation = 'bounce 0.5s 5';
                setTimeout(() => {
                    this.chat.style.animation = '';
                }, 2500);
                
                // Dance particles
                const danceEmojis = ['🕺', '💃', '🎵', '🎶'];
                for (let i = 0; i < 10; i++) {
                    setTimeout(() => {
                        this.createParticle(danceEmojis[Math.floor(Math.random() * danceEmojis.length)]);
                    }, i * 200);
                }
            }

            unlockSecrets() {
                this.addFloatingMessage('🔓 SECRETS UNLOCKED', 'special');
                this.vibeLevel = 100;
                this.increaseVibe();
                
                // Show everything
                document.getElementById('aiSync').textContent = 'TRANSCENDENT';
                document.getElementById('soulsCount').textContent = '∞';
            }

            startAmbience() {
                // Periodic vibe increases
                setInterval(() => {
                    if (Math.random() > 0.7) {
                        this.vibeLevel = Math.min(100, this.vibeLevel + Math.random() * 5);
                        this.vibeMeter.style.width = this.vibeLevel + '%';
                        document.getElementById('vibeLevel').textContent = Math.round(this.vibeLevel) + '%';
                    }
                }, 5000);
                
                // Random AI messages
                setInterval(() => {
                    if (Math.random() > 0.9 && this.messages.length > 0) {
                        const ambientMessages = [
                            "The energy is shifting...",
                            "Someone just joined the vibe",
                            "Feel that bass?",
                            "Magic hour approaching",
                            "Souls connecting..."
                        ];
                        this.addFloatingMessage(
                            ambientMessages[Math.floor(Math.random() * ambientMessages.length)],
                            'ai'
                        );
                    }
                }, 15000);
            }

            animateSouls() {
                setInterval(() => {
                    this.soulCount += Math.floor(Math.random() * 5) - 2;
                    this.soulCount = Math.max(200, Math.min(500, this.soulCount));
                    document.getElementById('soulsCount').textContent = this.soulCount;
                }, 3000);
            }
        }

        // Initialize the genius system
        const genius = new CompactGenius();

        // Global send function
        function sendMessage() {
            genius.sendMessage();
        }

        // Add bounce animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes bounce {
                0%, 100% { transform: translateY(0); }
                25% { transform: translateY(-10px); }
                75% { transform: translateY(5px); }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>
